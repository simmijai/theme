{% extends 'base.html' %}
{% load static %}

{% block title %}Home - Belle E-commerce{% endblock %}

{% block content %}
<div id="page-content">

    <!-- Hero Slider -->
    {% if sliders %}
    <div class="slideshow slideshow-wrapper pb-section sliderFull">
        <div class="home-slideshow">
            {% for slide in sliders %}
            <div class="slide">
                <div class="blur-up lazyload bg-size">
                    <img class="blur-up lazyload bg-img"
                         data-src="{% static 'images/slideshow-banners/belle-banner1.jpg' %}"
                         src="{{ slide.image.url }}"
                         alt="{{ slide.title }}">
                    <div class="slideshow__text-wrap slideshow__overlay classic bottom">
                        <div class="slideshow__text-content bottom">
                            <div class="wrap-caption center">
                                <h2 class="h1 mega-title slideshow__title">{{ slide.title }}</h2>
                                {% if slide.subtitle %}
                                <span class="mega-subtitle slideshow__subtitle">{{ slide.subtitle }}</span>
                                {% endif %}
                                {% if slide.button_link %}
                                <a href="{{ slide.button_link }}" class="btn">{{ slide.button_text }}</a>
                                {% endif %}                            
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    {% endif %}
    <!-- End Hero Slider -->

    <!-- Category Section -->
    {% if categories %}
    <div class="section">
        <div class="container">
            <div class="text-center mb-4">
                <h2 class="h2">Shop by Category</h2>
                <p class="text-muted">Explore our collections</p>
            </div>
            <div class="row justify-content-center">
                {% for cat in categories %}
                <div class="col-6 col-sm-4 col-md-3 col-lg-2 text-center mb-4">
                    <a href="{% url 'category_products' cat.slug %}" class="text-dark text-decoration-none">
                        <div class="rounded-circle overflow-hidden mx-auto mb-2" style="width:120px;height:120px;">
                            {% if cat.cat_image %}
                                <img src="{{ cat.cat_image.url }}" alt="{{ cat.category_name }}"
                                     class="img-fluid w-100 h-100" style="object-fit:cover;">
                            {% else %}
                                <img src="{% static 'images/no-image.png' %}" class="img-fluid w-100 h-100" style="object-fit:cover;">
                            {% endif %}
                        </div>
                        <h6>{{ cat.category_name }}</h6>
                    </a>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
    {% endif %}
    <!-- End Category Section -->

    <!-- Product Grid -->
    <div class="product-rows section">
        <div class="container">
            <div class="text-center mb-4">
                <h2 class="h2">New Arrivals</h2>
                <p>Browse our latest items</p>
            </div>

            <div class="grid-products">
                <div class="row" id="product-list">
                    {% for product in products %}
                    <div class="col-6 col-sm-6 col-md-4 col-lg-3 item grid-view-item style2">
                        <div class="grid-view_image">

                            <!-- Product Image -->
                            <a href="#" class="grid-view-item__link">
                                <img class="grid-view-item__image primary blur-up lazyload"
                                     src="{{ product.image.url }}" alt="{{ product.name }}">
                                <img class="grid-view-item__image hover blur-up lazyload"
                                     src="{{ product.image.url }}" alt="{{ product.name }}">
                            </a>

                            <!-- Product Details -->
                            <div class="product-details hoverDetails text-center mobile">
                                {% if product.category.parent %}
                                    <div class="subcategory-name text-muted" style="font-size: 14px;">
                                        {{ product.category.parent.name }} › {{ product.category.name }}
                                    </div>
                                {% else %}
                                    <div class="subcategory-name text-muted" style="font-size: 14px;">
                                        {{ product.category.name }}
                                    </div>
                                {% endif %}

                                <div class="product-name mt-2">
                                    <a href="#" class="text-dark font-weight-bold">{{ product.name }}</a>
                                </div>

                                <div class="product-price mt-1">
                                    <span class="price">₹{{ product.price }}</span>
                                </div>

                                <div class="button-set mt-2">
                                    <a href="javascript:void(0)" title="Quick View"
                                       class="quick-view-popup quick-view"
                                       data-toggle="modal" data-target="#content_quickview">
                                        <i class="icon anm anm-search-plus-r"></i>
                                    </a>

                                    <form action="{% url 'add_to_cart' product.id %}" method="post" style="display:inline-block;">
                                        {% csrf_token %}
                                        <input type="hidden" name="quantity" value="1">
                                        <button class="btn cartIcon btn-addto-cart" type="submit" tabindex="0">
                                            <i class="icon anm anm-bag-l"></i>
                                        </button>
                                    </form>

                                    <div class="wishlist-btn">
                                        <a href="{% url 'add_to_wishlist' product.id %}" class="wishlist add-to-wishlist" title="Add to Wishlist">
                                            <i class="icon anm anm-heart-l"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% empty %}
                    <div class="col-12 text-center">
                        <p>No products available.</p>
                    </div>
                    {% endfor %}
                </div>
            </div>

            <div class="text-center mt-4">
                <a href="#" class="btn btn-outline-dark">View All Products</a>
            </div>
        </div>
    </div>
    <!-- End Product Grid -->

</div>
{% endblock %}

{% comment %} {% extends 'base.html' %}
{% load static %}

{% block title %}Home - Belle E-commerce{% endblock %}

{% block content %}
<div id="page-content">

    <!-- HERO / SLIDER SECTION -->
    <section class="hero-section position-relative">
        <div class="slideshow slideshow-wrapper pb-section sliderFull">
            <div class="home-slideshow">
                <div class="slide">
                    <div class="blur-up lazyload bg-size">
                        <img class="blur-up lazyload bg-img"
                             data-src="{% static 'images/slideshow-banners/belle-banner1.jpg' %}"
                             src="{% static 'images/slideshow-banners/belle-banner1.jpg' %}"
                             alt="Shop Our New Collection" />
                        <div class="slideshow__text-wrap slideshow__overlay classic bottom">
                            <div class="slideshow__text-content bottom">
                                <div class="wrap-caption center text-center">
                                    <h1 class="h1 mega-title slideshow__title fw-bold text-uppercase">
                                        Discover the Latest Trends
                                    </h1>
                                    <p class="lead text-light mb-3">
                                        From timeless classics to modern essentials – find your perfect style.
                                    </p>
                                    <a href="#" class="btn btn-dark px-4 py-2">Shop Now</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- END HERO -->

    <!-- CATEGORY PREVIEW SECTION -->
    {% if categories %}
    <section class="py-5 bg-light">
        <div class="container">
            <div class="text-center mb-4">
                <h2 class="h2 fw-bold">Shop by Category</h2>
                <p class="text-muted">Explore our top collections</p>
            </div>
            <div class="row justify-content-center">
                {% for cat in categories %}
                <div class="col-6 col-md-3 col-lg-2 mb-4 text-center">
                    <a href="{% url 'category_products' cat.slug %}" class="text-decoration-none text-dark">
                        <div class="rounded-circle overflow-hidden shadow-sm mx-auto mb-3" style="width:120px;height:120px;">
                            {% if cat.cat_image %}
                                <img src="{{ cat.cat_image.url }}" class="img-fluid w-100 h-100" style="object-fit:cover;" alt="{{ cat.category_name }}">
                            {% else %}
                                <img src="{% static 'images/no-image.png' %}" class="img-fluid w-100 h-100" style="object-fit:cover;" alt="{{ cat.category_name }}">
                            {% endif %}
                        </div>
                        <h6 class="fw-semibold">{{ cat.category_name }}</h6>
                    </a>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>
    {% endif %}
    <!-- END CATEGORY PREVIEW -->

    <!-- FEATURED PRODUCTS SECTION -->
    <section class="py-5">
        <div class="container">
            <div class="text-center mb-4">
                <h2 class="h2 fw-bold">New Arrivals</h2>
                <p class="text-muted">Fresh styles added this week</p>
            </div>

            <div class="row">
                {% for product in products|slice:":8" %}
                <div class="col-6 col-md-4 col-lg-3 mb-4">
                    <div class="card h-100 shadow-sm border-0 rounded-3 hover-shadow">
                        <a href="{% url 'product_detail' product.slug %}">
                            <img src="{{ product.image.url }}" class="card-img-top" alt="{{ product.name }}" style="object-fit:cover;height:250px;">
                        </a>
                        <div class="card-body text-center">
                            {% if product.category %}
                                <p class="small text-muted mb-1">{{ product.category.category_name }}</p>
                            {% endif %}
                            <h6 class="fw-semibold text-truncate">
                                <a href="{% url 'product_detail' product.slug %}" class="text-dark text-decoration-none">{{ product.name }}</a>
                            </h6>
                            <p class="text-primary fw-bold mb-2">${{ product.price }}</p>
                            <div>
                                <form action="{% url 'add_to_cart' product.id %}" method="post" style="display:inline-block;">
                                    {% csrf_token %}
                                    <input type="hidden" name="quantity" value="1">
                                    <button class="btn btn-sm btn-dark" type="submit">
                                        <i class="icon anm anm-bag-l me-1"></i>Add to Cart
                                    </button>
                                </form>
                                <a href="{% url 'add_to_wishlist' product.id %}" class="btn btn-sm btn-outline-secondary ms-2">
                                    <i class="icon anm anm-heart-l"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                {% empty %}
                <div class="col-12 text-center">
                    <p class="text-muted">No products available.</p>
                </div>
                {% endfor %}
            </div>

            <div class="text-center mt-4">
                <a href="#" class="btn btn-outline-dark px-4 py-2">View All Products</a>
            </div>
        </div>
    </section>
    <!-- END FEATURED PRODUCTS -->

</div>
{% endblock %} {% endcomment %}
